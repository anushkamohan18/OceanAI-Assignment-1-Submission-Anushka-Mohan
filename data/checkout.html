<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Shop Checkout</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        .container { display: flex; gap: 20px; }
        .form-section { flex: 2; }
        .cart-section { flex: 1; background: #f9f9f9; padding: 20px; border-radius: 5px; }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; }
        input[type="text"], input[type="email"] { width: 100%; padding: 8px; box-sizing: border-box; }
        .error { color: red; font-size: 0.8em; display: none; }
        .btn { display: block; width: 100%; padding: 10px; background: #28a745; color: white; border: none; cursor: pointer; font-size: 1.1em; }
        .btn:hover { background: #218838; }
        .item { display: flex; justify-content: space-between; margin-bottom: 10px; }
        .total { font-weight: bold; margin-top: 10px; border-top: 1px solid #ddd; padding-top: 10px; }
    </style>
</head>
<body>

<h1>Checkout</h1>

<div class="container">
    <div class="form-section">
        <h2>Shipping Details</h2>
        <form id="checkoutForm">
            <div class="form-group">
                <label for="fullName">Full Name</label>
                <input type="text" id="fullName" name="fullName" required>
                <span class="error" id="nameError">Name is required</span>
            </div>

            <div class="form-group">
                <label for="email">Email Address</label>
                <input type="email" id="email" name="email" required>
                <span class="error" id="emailError">Please enter a valid email</span>
            </div>

            <div class="form-group">
                <label for="address">Address</label>
                <input type="text" id="address" name="address" required>
                <span class="error" id="addressError">Address is required</span>
            </div>

            <h3>Shipping Method</h3>
            <div class="form-group">
                <label><input type="radio" name="shipping" value="standard" checked> Standard (Free)</label>
                <label><input type="radio" name="shipping" value="express"> Express ($10.00)</label>
            </div>

            <h3>Payment Method</h3>
            <div class="form-group">
                <label><input type="radio" name="payment" value="credit_card" checked> Credit Card</label>
                <label><input type="radio" name="payment" value="paypal"> PayPal</label>
            </div>

            <button type="submit" class="btn" id="payBtn">Pay Now</button>
        </form>
        <div id="successMessage" style="display:none; color: green; margin-top: 20px; font-size: 1.2em;">Payment Successful!</div>
    </div>

    <div class="cart-section">
        <h2>Your Cart</h2>
        <div class="item">
            <span>Wireless Headphones</span>
            <span>$99.00</span>
        </div>
        <div class="item">
            <span>Phone Case</span>
            <span>$19.00</span>
        </div>
        
        <div class="form-group" style="margin-top: 20px;">
            <label for="discountCode">Discount Code</label>
            <div style="display: flex; gap: 5px;">
                <input type="text" id="discountCode" placeholder="Code">
                <button type="button" id="applyDiscount" style="width: auto; padding: 8px;">Apply</button>
            </div>
            <div id="discountMessage" style="font-size: 0.9em; margin-top: 5px;"></div>
        </div>

        <div class="total">
            <span>Total:</span>
            <span id="totalPrice">$118.00</span>
        </div>
    </div>
</div>

<script>
    const form = document.getElementById('checkoutForm');
    const payBtn = document.getElementById('payBtn');
    const successMessage = document.getElementById('successMessage');
    const applyDiscountBtn = document.getElementById('applyDiscount');
    const discountInput = document.getElementById('discountCode');
    const discountMessage = document.getElementById('discountMessage');
    const totalPriceEl = document.getElementById('totalPrice');
    const shippingRadios = document.getElementsByName('shipping');

    let baseTotal = 118.00;
    let shippingCost = 0;
    let discountMultiplier = 1;

    function updateTotal() {
        let total = (baseTotal * discountMultiplier) + shippingCost;
        totalPriceEl.textContent = '$' + total.toFixed(2);
    }

    // Shipping logic
    shippingRadios.forEach(radio => {
        radio.addEventListener('change', (e) => {
            if (e.target.value === 'express') {
                shippingCost = 10.00;
            } else {
                shippingCost = 0.00;
            }
            updateTotal();
        });
    });

    // Discount logic
    applyDiscountBtn.addEventListener('click', () => {
        const code = discountInput.value.trim().toUpperCase();
        if (code === 'SAVE15') {
            discountMultiplier = 0.85;
            discountMessage.textContent = '15% Discount Applied!';
            discountMessage.style.color = 'green';
        } else if (code === '') {
            discountMultiplier = 1;
            discountMessage.textContent = '';
        } else {
            discountMultiplier = 1;
            discountMessage.textContent = 'Invalid Code';
            discountMessage.style.color = 'red';
        }
        updateTotal();
    });

    // Form Validation
    form.addEventListener('submit', (e) => {
        e.preventDefault();
        let isValid = true;

        // Simple validation
        const name = document.getElementById('fullName');
        const email = document.getElementById('email');
        const address = document.getElementById('address');

        if (!name.value.trim()) {
            document.getElementById('nameError').style.display = 'block';
            isValid = false;
        } else {
            document.getElementById('nameError').style.display = 'none';
        }

        if (!email.value.includes('@')) {
            document.getElementById('emailError').style.display = 'block';
            isValid = false;
        } else {
            document.getElementById('emailError').style.display = 'none';
        }

        if (!address.value.trim()) {
            document.getElementById('addressError').style.display = 'block';
            isValid = false;
        } else {
            document.getElementById('addressError').style.display = 'none';
        }

        if (isValid) {
            payBtn.style.display = 'none';
            successMessage.style.display = 'block';
        }
    });
</script>

</body>
</html>
